# Earn Component Â· OnchainKit

The `Earn` component provides a streamlined interface for earning yield on crypto assets through Morpho vaults on Base.

## Setup

### Prerequisites

Complete the [Getting Started](/onchainkit/getting-started) guide before implementing `Earn`.

### New Projects

Bootstrap a new project with our scaffolding tool:

```bash
npm create onchain@latest
```

### Existing Projects

Add OnchainKit to your project:

<CodeGroup>
```bash npm
npm install @coinbase/onchainkit
```

```bash yarn
yarn add @coinbase/onchainkit
```

```bash pnpm
pnpm add @coinbase/onchainkit
```

```bash bun
bun add @coinbase/onchainkit
```
</CodeGroup>

Configure `<OnchainKitProvider />` following the [Getting Started guide](/onchainkit/getting-started#add-providers).

## Basic Implementation

The `Earn` component requires a `vaultAddress` prop. Find vault addresses on [Morpho's Vaults page](https://app.morpho.org/base/earn).

```tsx
// @noErrors: 2307
import { Earn } from '@coinbase/onchainkit/earn';

<Earn vaultAddress="0x7BfA7C4f149E7415b73bdeDfe609237e29CBF34A" />
```

{/* <EarnMain /> */}

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-earn--main&viewMode=story&dark=true&hero=true"
  width="100%"
  height="400px"
/>

## Customization

### Layout Composition

Use the `children` prop to compose custom layouts with `Earn` subcomponents:

```tsx
// @noErrors: 2307
import { Earn, EarnDeposit } from '@coinbase/onchainkit/earn';

<Earn vaultAddress="0x7BfA7C4f149E7415b73bdeDfe609237e29CBF34A">
  <div>Custom header</div>
  <EarnDeposit />
  <div>Custom footer</div>
</Earn>
```

{/* <EarnDeposit /> */}

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-earn--deposit&viewMode=story&dark=true&hero=true"
  width="100%"
  height="450px"
/>

### Granular Control

Render lower-level subcomponents for fine-grained customization. All subcomponents accept `className` for styling:

```tsx
import { Earn,
        EarnDeposit,
        EarnDetails,
        DepositBalance,
        DepositAmountInput,
        DepositButton } from '@coinbase/onchainkit/earn';

<Earn vaultAddress="0x7BfA7C4f149E7415b73bdeDfe609237e29CBF34A">
  <EarnDeposit>
    <EarnDetails />
    <DepositBalance />
    <DepositAmountInput className="border-2 border-green-400" />
    <DepositButton />
  </EarnDeposit>
</Earn>
```

{/* <RearrangedEarnDeposit /> */}

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-earn--rearranged-deposit&viewMode=story&dark=true&hero=true"
  width="100%"
  height="400px"
/>

### Styling

Apply styles through [OnchainKit themes](/onchainkit/guides/themes#custom-theme) or override individual components with `className`.

## Advanced Usage

Build fully custom implementations using `useEarnContext` to access component state and methods.

View the complete [`EarnContextType` interface](/onchainkit/earn/types#earncontexttype) in the Types documentation.

**Example: Custom Deposit Interface**

<CodeGroup>
```tsx index.tsx
// @noErrors: 2307
import { Earn, useEarnContext } from '@coinbase/onchainkit/earn';
import { CustomDepositButtons } from '@/custom-deposit-buttons';

<Earn vaultAddress="0x7BfA7C4f149E7415b73bdeDfe609237e29CBF34A">
  <CustomDepositButtons />
</Earn>
```

```tsx custom-deposit-buttons.tsx
import {EarnDetails,
        EarnDeposit,
        useEarnContext,
        DepositButton} from '@coinbase/onchainkit/earn';

const predefinedAmounts = ['0.1', '1', '10'];

function CustomDepositButtons() {
  const { depositAmount, setDepositAmount } = useEarnContext();

  return (
    <EarnDeposit>
      <EarnDetails />
      <div className="grid grid-cols-3 gap-2">
        {predefinedAmounts.map((amount) => {
          const selected = amount === depositAmount;
          return (
            <button
              key={amount}
              type="button"
              onClick={() => setDepositAmount(amount)}
              className={`rounded-md px-4 py-2
              ${selected ? 'bg-[var(--ock-bg-primary)] text-[var(--ock-text-inverse)]'
              : 'bg-[var(--ock-bg-secondary)] text-[var(--ock-text-primary)]'}`}
            >
              {amount}
            </button>
          );
        })}
      </div>
      <DepositButton />
    </EarnDeposit>
  );
}
```
</CodeGroup>

{/* <PredefinedInputDeposit /> */}

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-earn--predefined-deposit&viewMode=story&dark=true&hero=true"
  width="100%"
  height="400px"
/>

Leverage `useEarnContext` data and methods to build completely custom deposit and withdraw flows.

## Transaction Sponsorship

Enable gasless transactions with the `isSponsored` prop:

```tsx
// @noErrors: 2304
<Earn vaultAddress="0x7BfA7C4f149E7415b73bdeDfe609237e29CBF34A" isSponsored />
```

Configure your paymaster in `OnchainKitProvider`:

```tsx
// @noErrors:  2304 17008 1005
<OnchainKitProvider
  config={{
    paymaster: process.env.PAYMASTER_ENDPOINT,
  }}
>
```

<Tip>
Configure your contract allowlist on Coinbase Developer Platform to include:

- `deposit` on Morpho vault contracts
- `redeem` on Morpho vault contracts
- `approve` on deposit token contracts
</Tip>

## Component Reference

### Core Components

- **`<Earn />`** - Complete deposit/withdraw interface with `children` support and `useEarnContext` access
- **`<EarnProvider />`** - Headless context provider exposing `useEarnContext`
- **`<EarnDeposit />`** - Pre-built deposit card
- **`<EarnWithdraw />`** - Pre-built withdraw card

### Deposit Components

- **`<DepositAmountInput />`** - Deposit amount input field
- **`<DepositBalance />`** - Displays wallet balance for deposit asset
- **`<DepositButton />`** - Triggers deposit transaction

### Withdraw Components

- **`<WithdrawAmountInput />`** - Withdraw amount input field
- **`<WithdrawBalance />`** - Displays withdrawable vault balance
- **`<WithdrawButton />`** - Triggers withdraw transaction

### Information Components

- **`<EarnDetails />`** - Vault overview information
- **`<YieldDetails />`** - Yield metrics and APY
- **`<VaultDetails />`** - Detailed vault parameters

## Hooks

- [`useEarnContext`](/onchainkit/hooks/use-earn-context) - Access Earn component context
- [`useBuildDepositToMorphoTx`](/onchainkit/hooks/use-build-deposit-to-morpho-tx) - Build deposit transactions
- [`useBuildWithdrawFromMorphoTx`](/onchainkit/hooks/use-build-withdraw-from-morpho-tx) - Build withdraw transactions
- [`useMorphoVault`](/onchainkit/hooks/use-morpho-vault) - Fetch vault details

## Type Definitions

- [`LifecycleStatus`](/onchainkit/earn/types#lifecyclestatus)
- [`EarnReact`](/onchainkit/earn/types#earnreact)
- [`EarnProviderReact`](/onchainkit/earn/types#earnproviderreact)
- [`EarnContextType`](/onchainkit/earn/types#earncontexttype)
- [`EarnAmountInputReact`](/onchainkit/earn/types#earnamountinputreact)
- [`DepositAmountInputReact`](/onchainkit/earn/types#depositamountinputreact)
- [`WithdrawAmountInputReact`](/onchainkit/earn/types#withdrawamountinputreact)
- [`EarnBalanceReact`](/onchainkit/earn/types#earnbalancereact)
- [`DepositBalanceReact`](/onchainkit/earn/types#depositbalancereact)
- [`WithdrawBalanceReact`](/onchainkit/earn/types#withdrawbalancereact)
- [`EarnDepositReact`](/onchainkit/earn/types#earndepositreact)
- [`EarnWithdrawReact`](/onchainkit/earn/types#earnwithdrawreact)
- [`EarnDetailsReact`](/onchainkit/earn/types#earndetailsreact)
- [`DepositButtonReact`](/onchainkit/earn/types#depositbuttonreact)
- [`WithdrawButtonReact`](/onchainkit/earn/types#withdrawbuttonreact)
